const emisoras =[

{
    id: 0,
        label: 'Select One...',
        url: '',
        param: 'selected'

},

{
    id: 1,
        label: 'Radioacktiva',
        url: 'https://alpha.radioplayer.com.ar/stream/fmra1033',
        param: ''

},

{
    id: 2,
        label: 'La Maxima 89.1 FM',
        url: 'https://bayshore-ais.leanstream.co/CISOFM-MP3?args=tunein_01',
        param: ''

},

{
    id: 3,
        label: 'Radioacktiva Planeta Rock(Medellin)',
        url: 'https://24493.live.streamtheworld.com/RADIOACKTIVA_MED_SC?DIST=TuneIn&TGT=TuneIn&maxServers=2&gdpr=0&us_privacy=1YNY&partnertok=eyJhbGciOiJIUzI1NiIsImtpZCI6InR1bmVpbiIsInR5cCI6IkpXVCJ9.eyJ0cnVzdGVkX3BhcnRuZXIiOnRydWUsImlhdCI6MTY5MTE5MzA0OCwiaXNzIjoidGlzcnYifQ.KXT2km7A5SEtt55cG3L2RiiZDLbKkXc8vCfFfYVprT8',
        param: ''

},

{
    id: 4,
        label: 'ROCK ANTENNE Heavy Metal',
        url: 'http://stream.rockantenne.de/heavy-metal/stream/mp3?aw_0_1st.playerid=tunein.com',
        param: ''

},

{
    id: 5,
        label: 'RADIO BOB! alternative Rock ',
        url: 'http://regiocast.streamabc.net/regc-radiobobalternativerock9577444-mp3-192-2041777?sABC=64pqr133%230%235p58nn084q38sp434n9907261qno32q0%23gharva&aw_0_1st.playerid=tunein&amsparams=playerid:tunein;skey:1691214131',
        param: ''

},

{
    id: 6,
        label: 'Classic Rock Universal.com',
        url: 'https://securestreams6.autopo.st:2222/stream',
        param: ''

},

{
    id: 7,
        label: 'Soft Rock Radio',
        url: 'http://gold.streamguys1.com/softrock.mp3',
        param: ''

},

{
    id: 8,
        label: 'Radio Rock On',
        url: 'https://streaming.radiostreamlive.com/radiorockon_devices',
        param: ''

},

{
    id: 9,
        label: 'The School of Rock',
        url: 'http://ais-sa2.cdnstream1.com/1981_128.mp3',
        param: ''

},

{
    id: 10,
        label: 'ROCK ANTENNE 80er Rock',
        url: 'http://stream.rockantenne.de/80er-rock/stream/mp3?aw_0_1st.playerid=tunein.com',
        param: ''

},
{
    id: 11,
        label: 'Hard Rock Heaven',
        url: 'https://ais-sa2.cdnstream1.com/1521_128',
        param: ''

},
{
    id: 12,
        label: 'ANTENNE BAYERN Classic Rock',
        url: 'https://stream.rockantenne.de/rockantenne-bayern/stream/mp3?aw_0_1st.playerid=tunein.com',
        param: ''

},
{
    id: 13,
        label: 'British Rock Radio',
        url: 'https://api.spreaker.com/download/episode/51009247/british_rock_radio_8_27_22.mp3',
        param: ''

},
{
    id: 14,
        label: 'Rockabilly Radio',
        url: 'https://rradio.fastserv.com/hifi',
        param: ''

},
{
    id: 15,
        label: 'Virgin Radio Switzerland',
        url: 'https://stream.streambase.ch/vrock/mp3-192/tuneIn/',
        param: ''

},
{
    id: 16,
        label: 'Radio X Classic Rock (Reino Unido)',
        url: 'https://media-ssl.musicradio.com/RadioXClassicRock',
        param: ''

},
{
    id: 17,
        label: 'Indie Rock Thematic Radio',
        url: 'https://asvradiolive.asvstudios.tk/radio/8040/radio.mp3',
        param: ''

},
{
    id: 18,
        label: 'Start FM New Rock',
        url: 'https://asvradiolive.asvstudios.tk/radio/8040/radio.mp3',
        param: ''

},
{
    id: 19,
        label: 'Punk Rock FM (Brasil)',
        url: 'https://radio.punkfm.com.br/radio/8010/punkfmbrasil.mp3',
        param: ''

},
{
    id: 20,
        label: 'Radio RMF Rock',
        url: 'http://www.rmfon.pl/tunein/tunein.php?host=rs101-krk-cyfronet.rmfstream.pl&mount=rmf_rock&secure=0',
        param: ''

},
{
    id: 21,
        label: 'Kiss FM Sao Paulo',
        url: 'https://playerservices.streamtheworld.com/api/livestream-redirect/RADIO_KISSFMAAC.aac?DIST=TuneIn&TGT=TuneIn&maxServers=2&gdpr=0&us_privacy=1YNY&partnertok=eyJhbGciOiJIUzI1NiIsImtpZCI6InR1bmVpbiIsInR5cCI6IkpXVCJ9.eyJ0cnVzdGVkX3BhcnRuZXIiOnRydWUsImlhdCI6MTY5MTI4NTc2NiwiaXNzIjoidGlzcnYifQ.hzn8idAZlkwJnNyw92BQLDpLqcCRp8GlY52I2MsnPKA',
        param: ''

},
{
    id: 22,
        label: 'Rock Antenne Heavy Metal',
        url: 'http://stream.rockantenne.de/heavy-metal/stream/mp3?aw_0_1st.playerid=tunein.com',
        param: ''

},
{
    id: 23,
        label: 'MDR JUMP',
        url: 'https://mdr-284320-0.sslcast.mdr.de/mdr/284320/0/mp3/high/stream.mp3?ar-distributor=f0a1',
        param: ''

},
{
    id: 24,
        label: '1LIVE DIGGI',
        url: 'http://wdr-1live-diggi.icecastssl.wdr.de/wdr/1live/diggi/mp3/128/stream.mp3?aggregator=tunein',
        param: ''

},
{
    id: 25,
        label: 'ROCK ANTENNE SOFT ROCK',
        url: 'http://stream.rockantenne.de/soft-rock/stream/mp3?aw_0_1st.playerid=tunein.com',
        param: ''

}
]

const selectEmisoras = document.getElementById('select-emisoras')
const reproductor = document.getElementById('reproductor')
const signal = document.getElementById('signal')
const btnPause = document.getElementById('pause')
const btnPlay = document.getElementById('play')
const ctrlVolume = document.getElementById('volume')

let playing
let currentVolume


function llenarEmisoras() {
    let info = '';
    for(const emisora of emisoras) {
        info +=
        `
            <option ${emisora.param} value="${emisora.id}">${emisora.label}</option>
        `
    }
    selectEmisoras.innerHTML = info
}

function cambiarEmisora(evt) {
    console.log(evt.value)
    if(evt.value == 0){
        enableButtons(true)

    }else {
        enableButtons(false)
    }
    reproductor.src = emisoras[evt.value].url
    reproductor.value = currentVolume/100
    changeSignal()
}

function playMusic() {
    playing = true
    reproductor.play()
    reproductor.volume = currentVolume / 100
    changeSignal()
}

function pauseMusic() {
    playing = false
    reproductor.pause()
    changeSignal()
}

function changeVolume(evt) {
    console.log(evt.value)
    currentVolume = evt.value
    reproductor.volume = currentVolume / 100
    changeSignal()
}

function changeSignal() {
    const color = playing ? 'green': 'red'
    signal.style.color = color
}

function enableButtons(value){
    btnPlay.disabled = value
    btnPause.disabled = value
    ctrlVolume.disabled = value
    playing = !value
}

function init() {
    currentVolume = 20
    enableButtons(true)
    ctrlVolume.value = currentVolume
    reproductor.volume = currentVolume / 100
    llenarEmisoras()
    changeSignal()
}


(function(){
    init()
})();



